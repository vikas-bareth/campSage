<% layout('layouts/boilerplate')%>
  <div id="map" style="width: 100%; height: 400px;"></div>
    <h1 class="h1 mb-4">All Campgrounds</h1>
    <zul>
        <% campgrounds.map(campground => { %>
            <div class="card mb-3 w-100">
                <div class="row g-0">
                  <div class="col-md-3 overflow-hidden">
                    <% if(campground.images.length){%>
                    <img src="<%=campground.images[0].url%>" class="img-fluid rounded-start" alt="..."id="indexCardImg">
                    <% } else{%>
                    <img src="https://res-console.cloudinary.com/dyxkk7ptw/media_explorer_thumbnails/31a773fd2d33be7cbaab7faa558cf1f9/detailed" class="img-fluid rounded-start" alt="..."id="indexCardImg">
                        
                      <% } %>
                  </div>
                  <div class="col-md-9">
                    <div class="card-body">
                      <h5 class="card-title"><%=campground.title %></h5>
                      <p class="card-text"><%=campground.location %></p>
                      <p class="card-text"><small class="text-body-secondary">Last updated 3 mins ago</small></p>
                      <a href="/campgrounds/<%=campground._id%>" class="btn btn-primary">View <%=campground.title %></a>
                    </div>
                  </div>
                </div>
              </div>
        <% }) %>
    </ul>

<script>
      const mapToken = '<%-process.env.MAPBOX_TOKEN%>'
</script>

<script src="/javascript/clusterMap.js"></script>
